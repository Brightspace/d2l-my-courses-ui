<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="src/d2l-my-courses-content/d2l-my-courses-content.html">
<link rel="import" href="src/d2l-my-courses-content/d2l-my-courses-content-animated.html">
<link rel="import" href="src/d2l-my-courses-content/d2l-my-courses-behavior.html">
<script src="../webcomponentsjs/webcomponents-lite.js"></script>
<link rel="import" href="../d2l-tabs/d2l-tabs.html">
<link rel="import" href="src/d2l-utility-behavior.html">

<!--
`d2l-my-courses`
Polymer-based web component for the my-courses widget that appears on the LE homepage.

If the `US90527-my-courses-updates` LD flag is on, the `updated-sort-logic` attribute is added and the `d2l-my-courses-content` component is rendered.
If it is off and the attribute is not added, the `d2l-my-courses-content-animated` component is rendered.

-->

<dom-module id="d2l-my-courses">
	<template>
		<template is="dom-if" if="[[!updatedSortLogic]]">
			<d2l-my-courses-content-animated
				advanced-search-url="[[advancedSearchUrl]]"
				enrollments-url="[[enrollmentsUrl]]"
				image-catalog-location="[[imageCatalogLocation]]"
				show-course-code="[[showCourseCode]]"
				show-semester="[[showSemester]]"
				standard-department-name="[[standardDepartmentName]]"
				standard-semester-name="[[standardSemesterName]]"
				course-updates-config="[[courseUpdatesConfig]]"
				course-image-upload-cb="[[courseImageUploadCb]]"
				css-grid-view="false"
				updated-sort-logic="[[updatedSortLogic]]">
			</d2l-my-courses-content-animated>
		</template>
		<template is="dom-if" if="[[updatedSortLogic]]">
				<d2l-tabs>
					<template slot="tab" items="[[tabSearchActions]]" is="dom-repeat">
						<d2l-tab-panel slot="panel" id="[[item.name]]" text="[[item.title]]" selected=[[item.selected]]>
							<d2l-my-courses-content
								advanced-search-url="[[advancedSearchUrl]]"
								enrollments-url="[[enrollmentsUrl]]"
								enrollments-search-action="[[item.enrollmentsSearchAction]]"
								image-catalog-location="[[imageCatalogLocation]]"
								show-course-code="[[showCourseCode]]"
								show-semester="[[showSemester]]"
								standard-department-name="[[standardDepartmentName]]"
								standard-semester-name="[[standardSemesterName]]"
								course-updates-config="[[courseUpdatesConfig]]"
								course-image-upload-cb="[[courseImageUploadCb]]"
								css-grid-view="[[cssGridView]]"
								updated-sort-logic="[[updatedSortLogic]]">
							</d2l-my-courses-content>
						</d2l-tab-panel>
					</template>
				</d2l-tabs>
			<!-- </div> -->
		</template>
	</template>
	<script>
		Polymer({
			is: 'd2l-my-courses',
			behaviors: [
				D2L.MyCourses.MyCoursesBehavior,
				D2L.MyCourses.UtilityBehavior,
			]
		});
	</script>
</dom-module>
